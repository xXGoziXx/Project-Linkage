<div class="content">
  <div class="nav-pad black-filter min-h-screen px-4">
    <div class="text-left pb-4 checkout-container">
      <h1 class="mt-2 mb-8 uppercase">Checkout</h1>

      <div class="summary my-8">
        <h2 class="uppercase">Order Summary:</h2>
        <h3 class="empty-cart"
            *ngIf="!productService.cart.items.length">Your cart is empty!</h3>
        <div class="cart-container mx-1 flex gap-4  overflow-x-auto">
          <div class="cart flex gap-2 my-2"
               *ngFor="let item of productService.cart.items; index as i">
            <div class="image-container relative shrink">
              <img [src]="item.images[0].src"
                   alt="{{item.name}}"
                   class="absolute" />
              <img [src]="item.images[0].src"
                   alt="{{item.name}}"
                   class="opacity-0" />
            </div>
            <div class="name shrink ">
              <h4>Item #{{i+1}} Name:</h4>
              <a routerLink="/store"
                 (click)="goToProduct(item)"
                 class="inline-block link"> {{item.name}} <span *ngIf="item.size">({{item.size }})</span></a>
              <h4>Quantity:</h4>
              <p class="inline-block"> #{{item.quantity}}</p>
              <h4>Price:</h4>
              <p class="inline-block"> {{item.price | currency: 'EUR'}}</p>
            </div>
            <div class="action-buttons shrink primary-font text-center grid grid-rows-3 divide-y flex-none">
              <button (click)="increaseItem(i)">
                <img alt="increase"
                     src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjYiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNiAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yMS42NDU0IDE0SDE1LjE3NDVWMjBIMTAuODYwNVYxNEg0LjM4OTU5VjEwSDEwLjg2MDVWNEgxNS4xNzQ1VjEwSDIxLjY0NTRWMTRaIiBmaWxsPSIjRTBFMEUwIi8+DQo8L3N2Zz4NCg==" />
              </button>
              <button (click)="decreaseItem(i)">
                <img alt="decrease"
                     src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNyAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yMS43NjE3IDE0SDQuNTA1ODZWMTBIMjEuNzYxN1YxNFoiIGZpbGw9IiNFMEUwRTAiLz4NCjwvc3ZnPg0K" />
              </button>
              <button (click)="removeItem(i)">
                <img alt="remove"
                     src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNyAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xOF8yNikiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjE2NTc3IDcuNjA5NUw1LjgyMzk1IDIzLjAwODVDNS44MjM5NSAyMy41NTc1IDYuMzIwNTkgMjQgNi45MzA0OCAyNEgxOS4xOTI5QzE5LjQ4MTQgMjQuMDA0NCAxOS43NiAyMy45MDI1IDE5Ljk2NzQgMjMuNzE2NkMyMC4xNzQ5IDIzLjUzMDcgMjAuMjk0MyAyMy4yNzYgMjAuMjk5NCAyMy4wMDg1TDIxLjk1NzYgNy42MDk1SDQuMTY1NzdaTTEzLjk1NDcgMjEuMTAySDEyLjIyMDVWMTAuNDgzNUgxMy45NTQ3VjIxLjEwMlpNMTcuMTkwMSAyMS4xMDJIMTUuNDU1OUwxNy4wNzM3IDEwLjQ4MzVIMTguODA3OUwxNy4xOTAxIDIxLjEwMlpNMTAuNzE5MiAyMS4xMDJIOC45ODVMNy4zNjcyNiAxMC40ODM1SDkuMTAxNDdMMTAuNzE5MiAyMS4xMDJaIiBmaWxsPSIjRTBFMEUwIi8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIyLjExMTMgMy4xNTc1SDE3LjAzNDhWMS4wNjM1QzE3LjAzNDggMC40NzU1IDE2LjI5NzEgMCAxNS42NSAwSDEwLjY0MzFDOS45OTYwNSAwIDkuMDk4MjEgMC4zMzc1IDkuMDk4MjEgMC45MjI1VjMuMDE2NUw0LjAxMDQ0IDMuMTU3NUMzLjg1Nzk4IDMuMTU1NTIgMy43MDY2IDMuMTgxNDMgMy41NjQ5NCAzLjIzMzc0QzMuNDIzMjkgMy4yODYwNiAzLjI5NDE2IDMuMzYzNzYgMy4xODQ5MiAzLjQ2MjRDMy4wNzU2OSAzLjU2MTA0IDIuOTg4NSAzLjY3ODY4IDIuOTI4MzQgMy44MDg1OUMyLjg2ODE5IDMuOTM4NSAyLjgzNjI1IDQuMDc4MTMgMi44MzQzNSA0LjIxOTVWNS45NTJIMjMuMjg0MVY0LjIxOTVDMjMuMjgyNiA0LjA3ODI3IDIzLjI1MTEgMy45Mzg3IDIzLjE5MTMgMy44MDg4MUMyMy4xMzE1IDMuNjc4OTIgMjMuMDQ0NiAzLjU2MTI2IDIyLjkzNTYgMy40NjI1OEMyMi44MjY2IDMuMzYzOSAyMi42OTc3IDMuMjg2MTYgMjIuNTU2MyAzLjIzMzhDMjIuNDE0OCAzLjE4MTQ1IDIyLjI2MzYgMy4xNTU1MiAyMi4xMTEzIDMuMTU3NVpNMTAuNTgwMSAyLjE2QzEwLjU4MDEgMS42OTIgMTEuMTQ3OSAxLjMxMjUgMTEuODQ2NyAxLjMxMjVIMTQuMzc2OUMxNS4wNzU3IDEuMzEyNSAxNS42NDE5IDEuNjkzNSAxNS42NDE5IDIuMTZWMy4xNTc1SDEwLjU3ODRWMi4xNkgxMC41ODAxWiIgZmlsbD0iI0UwRTBFMCIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzE4XzI2Ij4NCjxyZWN0IHdpZHRoPSIyNS44ODM3IiBoZWlnaHQ9IjI0IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC45NTkzNTEpIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo=" /></button>
            </div>
          </div>
        </div>
        <h3 class="subtotal mb-4">Subtotal: {{productService.cart.totalPrice | currency: 'EUR'}}</h3>
      </div>
      <div class="delivery-address ">
        <h2 class="uppercase">Customer Shipping Info:</h2>
        <form id=formId
              (ngSubmit)="storeCustomerDetails()"
              [formGroup]="productService.checkoutForm"
              class="mx-1">

          <div class="input-field mt-2">
            <span class="uppercase form-label">Name:</span>
            <input id="name"
                   class="col-span-2 capitalize"
                   type="text"
                   name="name"
                   formControlName="name"
                   placeholder="Enter name..."
                   required>
          </div>
          <div class="input-field mt-4">
            <span class="uppercase form-label">Email Address:</span>

            <input id="email"
                   type="email"
                   class="col-span-2"
                   name="email"
                   formControlName="email"
                   placeholder="Enter Email Address..."
                   email="true"
                   required>

          </div>
          <div class="input-field mt-4 addresses">
            <span class="uppercase form-label">Delivery&nbsp;Address:</span>
            <input id="address1"
                   type="text"
                   class="col-span-2"
                   name="address1"
                   formControlName="address1"
                   placeholder="Enter Delivery Address*"
                   required>
            <input id="address2"
                   type="text"
                   class="col-span-2"
                   name="address2"
                   formControlName="address2"
                   placeholder="Apartment, Unit, Suite, or Floor #">
            <input id="locality"
                   type="text"
                   class="col-span-2"
                   name="locality"
                   formControlName="locality"
                   placeholder="City*"
                   required>
            <input id="state"
                   type="text"
                   name="state"
                   formControlName="state"
                   placeholder="State/Province*"
                   required>
            <input id="postcode"
                   type="text"
                   name="postcode"
                   formControlName="postcode"
                   placeholder="Postal Code*"
                   required>
            <input id="country"
                   type="text"
                   class="col-span-2"
                   name="country"
                   formControlName="country"
                   placeholder="Country/Region*"
                   required>
            <span *ngIf="!isEU"
                  class="col-span-2 warning secondary-font">We're only shipping to countries in Europe at
              the moment!</span>
            <span *ngIf="!this.productService.cart.items.length"
                  class="col-span-2 warning secondary-font">Seems like you forgot to add items to your
              cart!</span>
          </div>
          <div class="flex flex-col items-center justify-center button-container"
               *ngIf="!detailsConfirmed">
            <button type="submit"
                    class="btn bg-blur"
                    [disabled]="!productService.checkoutForm.valid || !this.productService.cart.items.length">Confirm<span
                    *ngIf="confirmingDetails">ing</span>
              Details<span *ngIf="confirmingDetails ">...</span></button>
          </div>
        </form>
      </div>
      <div class="delivery-options my-8 "
           [hidden]="!detailsConfirmed">
        <h2 class="uppercase">Delivery Options:</h2>
        <div class="custom-select mt-2 px-1"
             [hidden]="countryCode !== 'IE'">
          <select name="deliveryOptions"
                  id="deliveryOptions0"
                  title="deliveryOptions">
            <option selected="true"
                    value="1.49">
              Ireland (Untracked) - €1.49</option>
            <option value="3.49">Ireland (Tracked) - €3.49</option>
          </select>
        </div>
        <div class="custom-select mt-2 px-1 none"
             [hidden]="countryCode === 'IE'">
          <select name="deliveryOptions"
                  id="deliveryOptions1"
                  title="deliveryOptions">
            <option selected="true"
                    value="2.49">Rest of Europe (Untracked) - €2.49</option>
            <option value="8.99">Rest of Europe (Tracked) - €8.99</option>
          </select>
        </div>

      </div>
      <div class="paypal-container p-1"
           *ngIf="detailsConfirmed">
        <ngx-paypal id="paypalButton"
                    [config]="payPalConfig"></ngx-paypal>
      </div>
    </div>
  </div>
</div>
