<div class="content">
    <div class="min-h-screen flex flex-col px-4 mx-auto nav-pad black-filter">
        <div id="nav"
             class="flex flex-row invisible">
            <div class="nav-items grow"
                 [ngClass]="{active: isFirst}"
                 *ngFor="let products of this.productService.sortBy(this.productService.products, 'order') let isFirst = first; ">
                <!-- <h2>{{products.name}}</h2> -->
            </div>
        </div>
        <div class="flex flex-col gap-5 mb-5">
            <div [id]="products.name"
                 *ngFor="let products of this.productService.sortBy(this.productService.products, 'order')">
                <h1 class="uppercase">{{products.name}}</h1>
                <div class="flex flex-wrap ">
                    <!-- Product Items -->
                    <div class="pt-4 px-1 basis-1/3 md:basis-1/6 product"
                         [id]="i"
                         *ngFor="let product of this.productService.sortBy(products.items, 'order'); index as i;">
                        <img [src]="product.images[0].src"
                             [defaultImage]="defaultImage"
                             [lazyLoad]="product.images[0].src"
                             alt="{{product.images[0].alt}}"
                             (click)="viewProduct = true;showMe(product);">
                        <p class="mt-2 uppercase text-center ">{{product.name}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="product-view"
     *ngIf="showProductCard"
     class="h-screen w-screen fixed">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/tree.jpg"
         alt=""
         class="absolute background-image opacity-75 h-screen w-screen" />
    <div id="card-container"
         class="absolute h-screen w-screen grid place-content-center">
        <div class="card relative mt-2.5 w-min border-2 border-solid border-white">
            <h1 class="mt-3 text-center uppercase"> {{selectedProduct.name}}</h1>
            <div id="sliders"
                 class="mx-auto"
                 [ngClass]="{'opacity-1': preview, 'opacity-0': !preview}">
                <div id="main-slider"
                     class="splide mx-auto mt-1 px-12 ">
                    <div class="splide__track">
                        <ul class="splide__list">
                            <li class="splide__slide"
                                *ngFor="let image of this.productService.sortBy(selectedProduct.images, 'order');">
                                <img alt="{{image.alt}}"
                                     [lazyLoad]="image.src"
                                     [defaultImage]="defaultImage" />
                            </li>
                        </ul>
                    </div>
                </div>
                <div id="thumbnail-slider"
                     class="splide mx-auto px-12 py-3">
                    <div class="splide__track">
                        <ul class="splide__list">
                            <li class="splide__slide"
                                *ngFor="let image of this.productService.sortBy(selectedProduct.images, 'order')">
                                <img alt="{{image.alt}}"
                                     [lazyLoad]="image.src"
                                     [defaultImage]="defaultImage" />

                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <ng-container *ngIf="!preview">
                <div id="preview-description"
                     class="absolute w-full h-full inset-0 bg-no-repeat bg-cover bg-scroll "
                     [ngStyle]="{'backgroundImage': 'url(' + selectedProductFirstImage.src + ')'}">
                    <div [ngClass]="{'opacity-100': !preview, 'opacity-0' : preview}"
                         class="details-container grid justify-items-center content-between relative w-full h-full p-3">
                        <h1 class="relative text-center uppercase"> {{selectedProduct.name}}</h1>
                        <h2 class="relative mt-5 mb-2 text-center uppercase">Description</h2>
                        <div class="description overflow-y-auto mb-3">
                            <p class="text-center">
                                {{selectedProduct.description}}
                            </p>
                        </div>
                        <div class="price mb-2 sm:mb-0">
                            <h2 class="size"
                                *ngIf="this.selectedProductSizes">
                                Size: <span> {{selectedProductSizes}} </span>
                            </h2>
                            <h2 class="size">
                                Price: <span> {{selectedProduct.price | currency: 'EUR' }} </span>
                            </h2>
                        </div>
                        <button class="btn hidden sm:block">Add to cart</button>
                    </div>
                </div>
            </ng-container>
            <div class="absolute w-full preview-toggler flex justify-center gap-5">
                <button class="btn sm:hidden">Add to cart</button>
                <div class="preview-button grid place-content-center text-center pop"
                     (click)="preview = !preview">
                    <img [src]="preview ? previewButtonIcon.hide : previewButtonIcon.show"
                         alt="">
                </div>
            </div>
        </div>
    </div>
</div>